(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{397:function(t,s,e){"use strict";e.r(s);var a=e(42),o=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"updating-your-desmos-fullnode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#updating-your-desmos-fullnode"}},[t._v("#")]),t._v(" Updating your Desmos fullnode")]),t._v(" "),e("p",[t._v("These instructions are for fullnodes that are running on previous versions of Desmos and would like to update to the\nlatest testnet.")]),t._v(" "),e("h2",{attrs:{id:"_1-reset-the-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-reset-the-data"}},[t._v("#")]),t._v(" 1. Reset the data")]),t._v(" "),e("p",[t._v("First, remove the outdated files and reset the data.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/.desmos/config/addrbook.json "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/.desmos/config/genesis.json\ndesmos unsafe-reset-all\n")])])]),e("p",[t._v("Your node is now in a pristine state while keeping the original "),e("code",[t._v("priv_validator.json")]),t._v(" and "),e("code",[t._v("config.toml")]),t._v(". If you had any sentry nodes or full nodes setup before, your node will still try to connect to them, but may fail if they haven't also been upgraded.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("Make sure that every node has a unique "),e("code",[t._v("priv_validator.json")]),t._v(". Do not copy the "),e("code",[t._v("priv_validator.json")]),t._v(" from an old node to multiple new nodes. Running two nodes with the same "),e("code",[t._v("priv_validator.json")]),t._v(" will cause you to "),e("strong",[t._v("double sign")]),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"_2-upgrade-the-software"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-upgrade-the-software"}},[t._v("#")]),t._v(" 2. Upgrade the software")]),t._v(" "),e("p",[t._v("Now it is time to upgrade the software.")]),t._v(" "),e("p",[t._v("Go into the directory in which you have installed "),e("code",[t._v("desmos")]),t._v(". If you have followed\nthe "),e("RouterLink",{attrs:{to:"/fullnode/setup.html"}},[t._v("installation instructions")]),t._v(" and didn't change the path, it should be "),e("code",[t._v("/home/$USER/desmos")]),t._v(":")],1),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("installation-path"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# E.g")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd /home/$USER/desmos")]),t._v("\n")])])]),e("p",[t._v("Now, update the "),e("code",[t._v("desmos")]),t._v(" software:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch --all\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout tags/"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" describe --tags `git rev-list --tags --max-count"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("`"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Select another version")]),t._v(" "),e("p",[t._v("The above commands checks out the latest release that has been tagged on our repository. If you wish to check out a\nspecific version instead, use the following commands:")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("List all the tags")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tags --list\n")])])])]),t._v(" "),e("li",[e("p",[t._v("Checkout the tag you want")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout tags/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("tag"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Example: git checkout tags/v0.2.0")]),t._v("\n")])])])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),e("p",[t._v("If you have issues at this step, please check that you have the "),e("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[t._v("latest stable version"),e("OutboundLink")],1),t._v(" of Go installed.")])]),t._v(" "),e("p",[t._v("Your full node has been cleanly updated!")])])}),[],!1,null,null,null);s.default=o.exports}}]);