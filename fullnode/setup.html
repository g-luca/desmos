<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Full node setup | Desmos Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/assets/logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/pwa/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/pwa/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/pwa/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/pwa/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/pwa/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/pwa/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/pwa/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/pwa/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/pwa/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/pwa/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/pwa/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/pwa/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/pwa/favicon-16x16.png">
    <link rel="manifest" href="/assets/pwa/manifest.json">
    <meta name="description" content="Documentation for the Desmos blockchain.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Desmos Documentation">
    <meta property="og:url" content="https://docs.desmos.network/">
    <meta property="og:description" content="Learn how to integrate with the Desmos blockchain">
    <meta property="og:image" content="https://docs.desmos.network/assets/logo.png">
    <meta roperty="og:type" content="website">
    <meta property="og:locale" content="en_US">
    
    <link rel="preload" href="/assets/css/0.styles.5341f6db.css" as="style"><link rel="preload" href="/assets/js/app.28b40645.js" as="script"><link rel="preload" href="/assets/js/2.d405f95a.js" as="script"><link rel="preload" href="/assets/js/68.d51b2462.js" as="script"><link rel="prefetch" href="/assets/js/10.34c365b9.js"><link rel="prefetch" href="/assets/js/11.b0efc34b.js"><link rel="prefetch" href="/assets/js/12.784468b8.js"><link rel="prefetch" href="/assets/js/13.7493e4b8.js"><link rel="prefetch" href="/assets/js/14.706b425f.js"><link rel="prefetch" href="/assets/js/15.f34f54a2.js"><link rel="prefetch" href="/assets/js/16.51301ef6.js"><link rel="prefetch" href="/assets/js/17.c8d5eae0.js"><link rel="prefetch" href="/assets/js/18.9af717b8.js"><link rel="prefetch" href="/assets/js/19.56559ee6.js"><link rel="prefetch" href="/assets/js/20.e90f90fd.js"><link rel="prefetch" href="/assets/js/21.a07d7a4f.js"><link rel="prefetch" href="/assets/js/22.550d7d64.js"><link rel="prefetch" href="/assets/js/23.9dfcd7d8.js"><link rel="prefetch" href="/assets/js/24.a05711f2.js"><link rel="prefetch" href="/assets/js/25.1b782355.js"><link rel="prefetch" href="/assets/js/26.e3c85f39.js"><link rel="prefetch" href="/assets/js/27.9b44cc0d.js"><link rel="prefetch" href="/assets/js/28.fbab7a92.js"><link rel="prefetch" href="/assets/js/29.091cdc91.js"><link rel="prefetch" href="/assets/js/3.2caa5f93.js"><link rel="prefetch" href="/assets/js/30.f8865853.js"><link rel="prefetch" href="/assets/js/31.b9a04cf1.js"><link rel="prefetch" href="/assets/js/32.a531ab0e.js"><link rel="prefetch" href="/assets/js/33.7fcecfae.js"><link rel="prefetch" href="/assets/js/34.dc29368a.js"><link rel="prefetch" href="/assets/js/35.c636e28c.js"><link rel="prefetch" href="/assets/js/36.adb958de.js"><link rel="prefetch" href="/assets/js/37.ee86f0a8.js"><link rel="prefetch" href="/assets/js/38.82314b70.js"><link rel="prefetch" href="/assets/js/39.2ee61576.js"><link rel="prefetch" href="/assets/js/4.3675dc09.js"><link rel="prefetch" href="/assets/js/40.7cda6bda.js"><link rel="prefetch" href="/assets/js/41.35fe0d63.js"><link rel="prefetch" href="/assets/js/42.f1134e1e.js"><link rel="prefetch" href="/assets/js/43.ef63bda0.js"><link rel="prefetch" href="/assets/js/44.ce62cd10.js"><link rel="prefetch" href="/assets/js/45.c17d0284.js"><link rel="prefetch" href="/assets/js/46.b0264b6e.js"><link rel="prefetch" href="/assets/js/47.e3f6d2e9.js"><link rel="prefetch" href="/assets/js/48.cf150b24.js"><link rel="prefetch" href="/assets/js/49.fbe3ea81.js"><link rel="prefetch" href="/assets/js/5.eb28b176.js"><link rel="prefetch" href="/assets/js/50.591bfba2.js"><link rel="prefetch" href="/assets/js/51.53b055ea.js"><link rel="prefetch" href="/assets/js/52.496c1f32.js"><link rel="prefetch" href="/assets/js/53.305539b8.js"><link rel="prefetch" href="/assets/js/54.d3cff91c.js"><link rel="prefetch" href="/assets/js/55.bcc3ae50.js"><link rel="prefetch" href="/assets/js/56.6d011657.js"><link rel="prefetch" href="/assets/js/57.14d31471.js"><link rel="prefetch" href="/assets/js/58.d27dbe5d.js"><link rel="prefetch" href="/assets/js/59.4b468720.js"><link rel="prefetch" href="/assets/js/6.235f26ae.js"><link rel="prefetch" href="/assets/js/60.ec666c64.js"><link rel="prefetch" href="/assets/js/61.bbd77afa.js"><link rel="prefetch" href="/assets/js/62.8643a62e.js"><link rel="prefetch" href="/assets/js/63.21f59108.js"><link rel="prefetch" href="/assets/js/64.d13c0c66.js"><link rel="prefetch" href="/assets/js/65.fb7a9cf3.js"><link rel="prefetch" href="/assets/js/66.0f11448f.js"><link rel="prefetch" href="/assets/js/67.96fc5034.js"><link rel="prefetch" href="/assets/js/69.af83f212.js"><link rel="prefetch" href="/assets/js/7.38880a59.js"><link rel="prefetch" href="/assets/js/70.c1712897.js"><link rel="prefetch" href="/assets/js/71.1766f591.js"><link rel="prefetch" href="/assets/js/72.6212ea1a.js"><link rel="prefetch" href="/assets/js/73.5ab997d3.js"><link rel="prefetch" href="/assets/js/74.1195a505.js"><link rel="prefetch" href="/assets/js/75.f2cb2e42.js"><link rel="prefetch" href="/assets/js/76.fe695a1a.js"><link rel="prefetch" href="/assets/js/77.e973a3b4.js"><link rel="prefetch" href="/assets/js/78.99d7a94d.js"><link rel="prefetch" href="/assets/js/79.3195ca24.js"><link rel="prefetch" href="/assets/js/8.c655b1bf.js"><link rel="prefetch" href="/assets/js/80.df5f2933.js"><link rel="prefetch" href="/assets/js/81.e5688990.js"><link rel="prefetch" href="/assets/js/82.ac242533.js"><link rel="prefetch" href="/assets/js/83.7de5c960.js"><link rel="prefetch" href="/assets/js/9.b8427b8f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5341f6db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo.png" alt="Desmos Docs" class="logo"> <span class="site-name can-hide">Desmos Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Running a Fullnode</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fullnode/overview.html" class="sidebar-link">Overview</a></li><li><a href="/fullnode/setup.html" aria-current="page" class="active sidebar-link">Setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_1-build-the-software" class="sidebar-link">1. Build the software</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_2-initialize-the-desmos-working-directory" class="sidebar-link">2. Initialize the Desmos working directory</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_3-get-the-genesis-file" class="sidebar-link">3. Get the genesis file</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_4-setup-seeds-peers-and-state-sync" class="sidebar-link">4. Setup seeds, peers and state sync</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#optional-change-your-database-backend" class="sidebar-link">(Optional) Change your database backend</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_5-open-the-proper-ports" class="sidebar-link">5. Open the proper ports</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_6-start-the-desmos-node" class="sidebar-link">6. Start the Desmos node</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup.html#_7-configure-the-service" class="sidebar-link">7. Configure the service</a></li></ul></li><li><a href="/fullnode/rocksdb-installation.html" class="sidebar-link">Using RocksDB</a></li><li><a href="/fullnode/update.html" class="sidebar-link">Update</a></li><li><a href="/fullnode/cosmovisor.html" class="sidebar-link">Using Cosmovisor</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Validators</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Testnets</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="full-node-setup"><a href="#full-node-setup" class="header-anchor">#</a> Full node setup</h1> <p>Following you will find the instructions on how to manually setup your Desmos full node.</p> <div class="custom-block warning"><p class="custom-block-title">Requirements</p> <p>Before starting, make sure you read the <a href="/fullnode/overview.html">overview</a> to make sure your hardware meets the needed
requirements.</p></div> <h2 id="_1-build-the-software"><a href="#_1-build-the-software" class="header-anchor">#</a> 1. Build the software</h2> <div class="custom-block tip"><p class="custom-block-title">Choose your DB backend</p> <p>Before installing the software, a consideration must be done.</p> <p>By default, Desmos uses <a href="https://github.com/google/leveldb" target="_blank" rel="noopener noreferrer">LevelDB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as its database backend engine. However, since
version <code>v0.6.0</code> we've also added the possibility of optionally
using <a href="https://github.com/facebook/rocksdb" target="_blank" rel="noopener noreferrer">Facebook's RocksDB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which, although still being experimental, is known to
be faster and could lead to lower syncing times. If you want to try out RocksDB you can take a look at
our <a href="/fullnode/rocksdb-installation.html">RocksDB installation guide</a> before proceeding further.</p></div> <p>The following operations will all be done in the terminal environment under your home directory.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Clone the Desmos software</span>
<span class="token function">git</span> clone https://github.com/desmos-labs/desmos.git <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> desmos

<span class="token comment"># Checkout the correct commit</span>
<span class="token comment"># Please check on https://github.com/desmos-labs/morpheus to get</span>
<span class="token comment"># the tag to use based on the current network version</span>
<span class="token function">git</span> checkout tags/<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>

<span class="token comment"># Build the software</span>
<span class="token comment"># If you want to use the default database backend run </span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token comment"># If you want to use RocksDB run instead</span>
<span class="token function">make</span> <span class="token function">install</span> <span class="token assign-left variable">DB_BACKEND</span><span class="token operator">=</span>rocksdb 
</code></pre></div><p>If the software is built successfully, the <code>desmos</code> executable will be located inside your <code>$GOBIN</code> path. If you setup
your environment variables correctly in the previous step, you should also be able to run it properly. To check this,
try running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>desmos version --long
</code></pre></div><h2 id="_2-initialize-the-desmos-working-directory"><a href="#_2-initialize-the-desmos-working-directory" class="header-anchor">#</a> 2. Initialize the Desmos working directory</h2> <p>Configuration files and chain data will be stored inside the <code>$HOME/.desmos</code> directory by default. In order to create
this folder and all the necessary data we need to initialize a new full node using the <code>desmos init</code> command.</p> <p>Starting from <code>v0.15.0</code>, you are now able to provide a custom seed when initializing your node. This will be
particularly useful because, in the case that you want to reset your node, you will be able to re-generate the same
private node key instead of having to create a new node.</p> <p>In order to provide a custom seed to your private key, you can do as follows:</p> <ol><li><p>Get a new random seed by running</p> <div class="language-shell extra-class"><pre class="language-shell"><code>desmos keys <span class="token function">add</span> node --dry-run

<span class="token comment"># Example</span>
<span class="token comment"># desmos keys add node --dry-run</span>
<span class="token comment"># - name: node</span>
<span class="token comment">#   type: local</span>
<span class="token comment">#   address: desmos126cw9j2wy099lttf2qx0qds6k7t4kdea5ualh9</span>
<span class="token comment">#   pubkey: desmospub1addwnpepqdpfv4lh0vqjvmu43spz4lq0l92qret9hv6007j4r28z05wuthw2jz3frd4</span>
<span class="token comment">#   mnemonic: &quot;&quot;</span>
<span class="token comment">#   threshold: 0</span>
<span class="token comment">#   pubkeys: []</span>
<span class="token comment"># </span>
<span class="token comment"># </span>
<span class="token comment"># **Important** write this mnemonic phrase in a safe place.</span>
<span class="token comment"># It is the only way to recover your account if you ever forget your password.</span>
<span class="token comment"># </span>
<span class="token comment"># sort curious village display voyage oppose dice idea mutual inquiry keep swim team direct tired pink clinic figure tiny december giant obvious clump chest</span>
</code></pre></div><p>This will create a new key <strong>without</strong> adding it to your keystore, and output the underlying seed.</p></li> <li><p>Run the <code>init</code> command using the <code>--recover</code> flag.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>desmos init <span class="token operator">&lt;</span>your_moniker<span class="token operator">&gt;</span> --recover
</code></pre></div><p>You can choose any moniker value you like. It will be saved in the <code>config.toml</code> under the <code>.desmos</code> working
directory.</p></li> <li><p>Insert the previously output mnemonic phrase:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; Enter your bip39 mnemonic
sort curious village display voyage oppose dice idea mutual inquiry keep swim team direct tired pink clinic figure tiny december giant obvious clump chest
</code></pre></div></li></ol> <h2 id="_3-get-the-genesis-file"><a href="#_3-get-the-genesis-file" class="header-anchor">#</a> 3. Get the genesis file</h2> <p>To connect to an existing network, or start a new one, a genesis file is required. The file contains all the settings
telling how the genesis block of the network should look like. To connect to the <code>morpheus</code> testnets, you will need the
corresponding genesis file of each testnet. Visit the <a href="https://github.com/desmos-labs/morpheus" target="_blank" rel="noopener noreferrer">testnet repo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and
download the correct genesis file by running the following command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Download the existing genesis file for the testnet</span>
<span class="token comment"># Replace &lt;chain-id&gt; with the id of the testnet you would like to join</span>
<span class="token function">curl</span> https://raw.githubusercontent.com/desmos-labs/morpheus/master/<span class="token operator">&lt;</span>chain-id<span class="token operator">&gt;</span>/genesis.json <span class="token operator">&gt;</span> <span class="token environment constant">$HOME</span>/.desmos/config/genesis.json
</code></pre></div><h2 id="_4-setup-seeds-peers-and-state-sync"><a href="#_4-setup-seeds-peers-and-state-sync" class="header-anchor">#</a> 4. Setup seeds, peers and state sync</h2> <p>The next thing you have to do now is telling your node how to connect with other nodes that are already present on the
network. In order to do so, we will use the <code>seeds</code> and <code>persistent_peers</code> values of the <code>~/.desmos/config/config.toml</code>
file.</p> <p>Seed nodes are a particular type of nodes present on the network. Your fullnode will connect to them, and they will
provide it with a list of other fullnodes that are present on the network. Then, your fullnode will automatically
connect to such nodes. Our team is running three seed nodes, and we advise you to use them by setting the
following <code>seeds</code> value:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token key property">seeds</span> <span class="token punctuation">=</span> <span class="token string">&quot;be3db0fe5ee7f764902dbcc75126a2e082cbf00c@seed-1.morpheus.desmos.network:26656,4659ab47eef540e99c3ee4009ecbe3fbf4e3eaff@seed-2.morpheus.desmos.network:26656,1d9cc23eedb2d812d30d99ed12d5c5f21ff40c23@seed-3.morpheus.desmos.network:26656&quot;</span>
</code></pre></div><p>Next, you will need to set some persistent peers of your node. Such nodes are going to be a particular type of peer
nodes to which your fullnode will always try to connect. You need to set them as the following value so that your node
can start syncing faster with the rest of the chain:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token key property">persistent_peers</span> <span class="token punctuation">=</span> <span class="token string">&quot;67dcef828fc2be3c3bcc19c9542d2b228bd7cff9@seed-4.morpheus.desmos.network:26656,fcf8207fb84a7238089bd0cd8db994e0af9016b6@seed-5.morpheus.desmos.network:26656&quot;</span>
</code></pre></div><h3 id="using-state-sync"><a href="#using-state-sync" class="header-anchor">#</a> Using state sync</h3> <p>Starting from Desmos <code>v0.15.0</code>, we've added the support for Tendermint'
s <a href="https://docs.tendermint.com/master/tendermint-core/state-sync.html" target="_blank" rel="noopener noreferrer">state sync<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. This feature allows new nodes to
sync with the chain extremely fast, by downloading snapshots created by other full nodes.</p> <p>In order to use this feature, you will have to edit a couple of things inside your <code>~/.desmos/config/config.toml</code> file,
under the <code>statesync</code> section:</p> <ol><li><p>Enable state sync by setting <code>enable = true</code></p></li> <li><p>Set the RPC addresses from where to get the snapshots using the <code>rpc_servers</code> field
to <code>seed-4.morpheus.desmos.network:26657,seed-5.morpheus.desmos.network:26657</code>.<br>
These are two of our fullnodes that are set up to create periodic snapshots every 600 blocks.</p></li> <li><p>Get a trusted chain height, and the associated block hash. To do this, you will have to:</p></li> <li><p>Get the current chain height by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -s http://seed-4.morpheus.desmos.network:26657/commit <span class="token operator">|</span> jq <span class="token string">&quot;{height: .result.signed_header.header.height}&quot;</span>
</code></pre></div></li> <li><p>Once you have the current chain height, get a height that is a little bit lower (200 blocks) than the current one. To
do this you can execute:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -s http://seed-4.morpheus.desmos.network:26657/commit?height<span class="token operator">=</span><span class="token operator">&lt;</span>your-height<span class="token operator">&gt;</span> <span class="token operator">|</span> jq <span class="token string">&quot;{height: .result.signed_header.header.height, hash: .result.signed_header.commit.block_id.hash}&quot;</span>

<span class="token comment"># Example</span>
<span class="token comment"># curl -s http://seed-4.morpheus.desmos.network:26657/commit?height=100000 | jq &quot;{height: .result.signed_header.header.height, hash: .result.signed_header.commit.block_id.hash}&quot;</span>
</code></pre></div></li> <li><p>Now that you have a trusted height and block hash, use those values as the <code>trust_height</code> and <code>trust_hash</code> values.</p></li></ol> <p>Here is an example of what the <code>statesync</code> section of your <code>~/.desmos/config/config.toml</code> file should look like in the
end (the <code>trust_height</code> and <code>trust_hash</code> should contain your values instead):</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token key property">enable</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

<span class="token key property">rpc_servers</span> <span class="token punctuation">=</span> <span class="token string">&quot;seed-4.morpheus.desmos.network:26657,seed-5.morpheus.desmos.network:26657&quot;</span>
<span class="token key property">trust_height</span> <span class="token punctuation">=</span> <span class="token number">16962</span>
<span class="token key property">trust_hash</span> <span class="token punctuation">=</span> <span class="token string">&quot;E8ED7A890A64986246EEB02D7D8C4A6D497E3B60C0CAFDDE30F2EE385204C314&quot;</span>
<span class="token key property">trust_period</span> <span class="token punctuation">=</span> <span class="token string">&quot;168h0m0s&quot;</span>
</code></pre></div><h2 id="optional-change-your-database-backend"><a href="#optional-change-your-database-backend" class="header-anchor">#</a> (Optional) Change your database backend</h2> <p>If you would like to run your node using <a href="https://github.com/facebook/rocksdb" target="_blank" rel="noopener noreferrer">Facebook's RocksDB<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as the database
backend, and you have correctly built the Desmos binaries to work with it following the instructions
at <a href="#1-build-the-software">point 1</a>, there is one more thing you need to do.</p> <p>In order to tell Tendermint to use RocksDB as its database backend engine, you are required to change the following like
inside the <code>config.toml</code> file:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token key property">db_backend</span> <span class="token punctuation">=</span> <span class="token string">&quot;goleveldb&quot;</span>
</code></pre></div><p>To become</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token key property">db_backend</span> <span class="token punctuation">=</span> <span class="token string">&quot;rocksdb&quot;</span>
</code></pre></div><h2 id="_5-open-the-proper-ports"><a href="#_5-open-the-proper-ports" class="header-anchor">#</a> 5. Open the proper ports</h2> <p>Now that everything is in place to start the node, the last thing to do is to open up the proper ports.</p> <p>Your node uses vary different ports to interact with the rest of the chain. Particularly, it relies on:</p> <ul><li>port <code>26656</code> to listen for incoming connections from other nodes</li> <li>port <code>26657</code> to expose the RPC service to clients</li></ul> <p>A part from those, it also uses:</p> <ul><li>port <code>9090</code> to expose the <a href="https://grpc.io/" target="_blank" rel="noopener noreferrer">gRPC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> service that allows clients to query the chain state</li> <li>port <code>1317</code> to expose the REST APIs service</li></ul> <p>Most of the validators do not have interest in opening any port. However, it might be beneficial to the whole chain if
you can open port <code>26656</code>. This would allow new nodes to connect to you as a peer, making their sync faster and the
connection more reliable. For this reason, we suggest you opening that port by using <code>ufw</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Accept connections to port 26656 from any address</span>
<span class="token function">sudo</span> ufw allow from any to any port <span class="token number">26656</span> proto tcp
</code></pre></div><p>If you also want to run a gRPC server, RPC node or the REST APIs, you also need to remember to open the related ports as
well.</p> <h2 id="_6-start-the-desmos-node"><a href="#_6-start-the-desmos-node" class="header-anchor">#</a> 6. Start the Desmos node</h2> <p>After setting up the binary and opening up ports, you are now finally ready to start your node:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Run Desmos full node</span>
desmos start
</code></pre></div><p>The full node will connect to the peers and start syncing. You can check the status of the node by executing:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Check status of the node</span>
desmos status
</code></pre></div><p>You should see an output like the following one:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;NodeInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;protocol_version&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;p2p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;block&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;app&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;84cc13d6acf22c32c209f4205d2693f70f458dde&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;listen_addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tcp://0.0.0.0:26656&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;network&quot;</span><span class="token operator">:</span> <span class="token string">&quot;morpheus-13001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;channels&quot;</span><span class="token operator">:</span> <span class="token string">&quot;40202122233038606100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moniker&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fullnode&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;other&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;tx_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rpc_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tcp://0.0.0.0:26657&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SyncInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;latest_block_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9BA7801C0935C4E18B4E2F8C6E8A2FF4C598C8E5F71A94113D2F0595524FD4E3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;latest_app_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;375C9F0E4E63B7ACAD497F8DEDF5E2382F469668DE671B2FF92A5D2B8B50C6D2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;latest_block_height&quot;</span><span class="token operator">:</span> <span class="token string">&quot;204393&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;latest_block_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-02-03T08:03:06.448549383Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;earliest_block_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;839FEB9ED0257B71116CE54618C7E3C15189239CB571066DDBE9E0F1C101DCC8&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;earliest_app_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;earliest_block_height&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;earliest_block_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-01-20T07:00:00Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;catching_up&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ValidatorInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;E457913A98EC0F9251BB40008E6680A8EFF93F99&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;PubKey&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tendermint/PubKeyEd25519&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BLT8jjQ+ODKa0ERcrhHfOVFVVrJDq7hxyXx6bLXnCdw=&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;VotingPower&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If you see that the <code>catching_up</code> value is <code>false</code> under the <code>sync_info</code>, it means that you are fully synced. If it
is <code>true</code>, it means your node is still syncing. You can get the <code>catching_up</code> value by simply running:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>desmos status <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> jq <span class="token string">&quot;{catching_up: .SyncInfo.catching_up}&quot;</span>

<span class="token comment"># Example </span>
<span class="token comment"># $ desmos status 2&gt;&amp;1 | jq &quot;{catching_up: .SyncInfo.catching_up}&quot;</span>
<span class="token comment"># {</span>
<span class="token comment">#   &quot;catching_up&quot;: false</span>
<span class="token comment"># }</span>
</code></pre></div><p>After your node is fully synced, you can consider running your full node as a <a href="/validators/setup.html">validator node</a>.</p> <h2 id="_7-configure-the-service"><a href="#_7-configure-the-service" class="header-anchor">#</a> 7. Configure the service</h2> <p>To allow your <code>desmos</code> instance to run in the background as a service you need to execute the following command</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tee</span> /etc/systemd/system/desmosd.service <span class="token operator">&gt;</span> /dev/null <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
[Unit]
Description=Desmos Full Node
After=network-online.target

[Service]
User=ubuntu
ExecStart=<span class="token variable">$GOBIN</span>/desmos start
Restart=always
RestartSec=3
LimitNOFILE=4096

[Install]
WantedBy=multi-user.target
EOF</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If you are logged as a user which is not <code>ubuntu</code>, make sure to edit the <code>User</code> value accordingly</p></div> <p>Once you have successfully created the service, you need to enable it. You can do so by running</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> desmosd
</code></pre></div><p>After this, you can run it by executing</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start desmosd
</code></pre></div><h3 id="service-operations"><a href="#service-operations" class="header-anchor">#</a> Service operations</h3> <h4 id="check-the-service-status"><a href="#check-the-service-status" class="header-anchor">#</a> Check the service status</h4> <p>If you want to see if the service is running properly, you can execute</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl status desmosd
</code></pre></div><p>If everything is running smoothly you should see something like</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ systemctl status desmosd
● desmos.service - Desmos Node
   Loaded: loaded <span class="token punctuation">(</span>/etc/systemd/system/desmosd.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: 
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Fri <span class="token number">2020</span>-01-17 <span class="token number">10</span>:23:12 CET<span class="token punctuation">;</span> 2min 3s ago
 Main PID: <span class="token number">11318</span> <span class="token punctuation">(</span>desmos<span class="token punctuation">)</span>
    Tasks: <span class="token number">10</span> <span class="token punctuation">(</span>limit: <span class="token number">4419</span><span class="token punctuation">)</span>
   CGroup: /system.slice/desmosd.service
           └─11318 /root/go/bin/desmos start
</code></pre></div><h4 id="check-the-node-status"><a href="#check-the-node-status" class="header-anchor">#</a> Check the node status</h4> <p>If you want to see the current status of the node, you can do so by running</p> <div class="language-bash extra-class"><pre class="language-bash"><code>journalctl -u desmosd -f
</code></pre></div><h4 id="stopping-the-service"><a href="#stopping-the-service" class="header-anchor">#</a> Stopping the service</h4> <p>If you wish to stop the service from running, you can do so by running</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop desmosd
</code></pre></div><p>To check the successful stop, execute <code>systemctl status desmos</code>. This should return</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ systemctl status desmosd
● desmos.service - Desmos Node
   Loaded: loaded <span class="token punctuation">(</span>/etc/systemd/system/desmosd.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: failed <span class="token punctuation">(</span>Result: exit-code<span class="token punctuation">)</span> since Fri <span class="token number">2020</span>-01-17 <span class="token number">10</span>:28:04 CET<span class="token punctuation">;</span> 3s ago
  Process: <span class="token number">11318</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/root/go/bin/desmos start <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">143</span><span class="token punctuation">)</span>
 Main PID: <span class="token number">11318</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">143</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/desmos-labs/desmos/edit/master/docs/fullnode/setup.md" target="_blank" rel="noopener noreferrer">Edit this page on Github</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/25/2021, 8:42:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fullnode/overview.html" class="prev">
        Overview
      </a></span> <span class="next"><a href="/fullnode/rocksdb-installation.html">
        Using RocksDB
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.28b40645.js" defer></script><script src="/assets/js/2.d405f95a.js" defer></script><script src="/assets/js/68.d51b2462.js" defer></script>
  </body>
</html>
